<mat-card class="filter-card">
  <mat-card-header>
    <mat-card-title class="filter-title">
      <mat-icon>filter_list</mat-icon>
      Filters
      <mat-chip *ngIf="hasActiveFilters()" class="active-filters-chip">
        {{ getActiveFilterCount() }} active
      </mat-chip>
    </mat-card-title>
  </mat-card-header>
  
  <mat-card-content>
    <form [formGroup]="filterForm" class="filter-form">
      
      <!-- Date Range -->
      <div class="filter-row">
        <mat-form-field appearance="outline" class="date-field">
          <mat-label>From Date</mat-label>
          <input 
            matInput 
            [matDatepicker]="fromPicker" 
            formControlName="dateFrom"
            (dateChange)="onDateFromChange()"
            readonly>
          <mat-datepicker-toggle matIconSuffix [for]="fromPicker"></mat-datepicker-toggle>
          <mat-datepicker #fromPicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="outline" class="date-field">
          <mat-label>To Date</mat-label>
          <input 
            matInput 
            [matDatepicker]="toPicker" 
            formControlName="dateTo"
            (dateChange)="onDateToChange()"
            readonly>
          <mat-datepicker-toggle matIconSuffix [for]="toPicker"></mat-datepicker-toggle>
          <mat-datepicker #toPicker></mat-datepicker>
        </mat-form-field>
      </div>

      <!-- Severity and Priority -->
      <div class="filter-row">
        <mat-form-field appearance="outline" class="select-field">
          <mat-label>Severity</mat-label>
          <mat-select formControlName="severity">
            <mat-option value="">All Severities</mat-option>
            <mat-option *ngFor="let option of severityOptions" [value]="option.value">
              {{ option.label }}
            </mat-option>
          </mat-select>
          <mat-icon matSuffix>warning</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline" class="select-field">
          <mat-label>Priority</mat-label>
          <mat-select formControlName="priority">
            <mat-option value="">All Priorities</mat-option>
            <mat-option *ngFor="let option of priorityOptions" [value]="option.value">
              {{ option.label }}
            </mat-option>
          </mat-select>
          <mat-icon matSuffix>priority_high</mat-icon>
        </mat-form-field>
      </div>

      <!-- Search Text -->
      <div class="filter-row">
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Search in messages</mat-label>
          <input 
            matInput 
            formControlName="searchText" 
            placeholder="Enter keywords to search..."
            autocomplete="off">
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </div>

      <!-- Action Buttons -->
      <div class="filter-actions">
        <button 
          mat-raised-button 
          color="primary" 
          type="button"
          [disabled]="!hasActiveFilters()"
          (click)="onClearFilters()">
          <mat-icon>clear</mat-icon>
          Clear Filters
        </button>
      </div>

    </form>
  </mat-card-content>
</mat-card>
